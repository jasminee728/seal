<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è»Ÿè»Ÿå°æµ·è±¹å¿ƒæƒ…å›æ‡‰æ©Ÿ ğŸ¦­</title>
    <style>
        /* é€™è£¡æ˜¯ CSS æ¨£å¼ï¼Œæˆ‘å€‘ç¨å¾Œå†ç¾åŒ– */
        body { font-family: 'Arial', sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; background-color: #f0f8ff; }
        #app { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 600px; width: 90%; text-align: center; }
        #seal-img { width: 150px; height: 150px; margin-bottom: 20px; }
        #response-box { margin-top: 20px; padding: 15px; background-color: #ffe0f6; border-radius: 10px; min-height: 80px; text-align: left; }
        #user-input { width: 100%; padding: 10px; margin-top: 10px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
        button { padding: 10px 20px; margin-top: 15px; border: none; border-radius: 8px; background-color: #ff99cc; color: white; cursor: pointer; font-size: 16px; transition: background-color 0.3s; }
        button:hover { background-color: #ff66b3; }
    </style>
</head>
<body>

    <div id="app">
        <h1>è»Ÿè»Ÿå°æµ·è±¹å¿ƒæƒ…å›æ‡‰æ©Ÿ ğŸ¦­</h1>
        <img id="seal-img" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTT9TFbyLc1n1YTEPNhk4pPQFnNQ7R4dhgyIg&s" alt="è»Ÿè»Ÿå°æµ·è±¹"> 
        
        <h2>å°ä¸»äººï¼Œä»Šå¤©æœ‰ç™¼ç”Ÿä»€éº¼æœ‰è¶£çš„äº‹æƒ…å—ï¼Ÿ</h2>
        
        <textarea id="user-input" rows="4" placeholder="åœ¨é€™è£¡è¼¸å…¥æ‚¨çš„å¿ƒæƒ…æˆ–å°å°çš„ç…©æƒ±..."></textarea>
        
        <button onclick="getSealResponse()">å‘Šè¨´è»Ÿè»Ÿ</button>
        
        <div id="response-box">
            **è»Ÿè»Ÿçš„å›æ‡‰æœƒåœ¨é€™è£¡å‡ºç¾å–”ï¼å•µï¼ğŸ¦­**
        </div>
        <p id="loading-message" style="color: #ff66b3; display: none;">è»Ÿè»Ÿæ­£åœ¨åŠªåŠ›è½ä½ èªªè©±ä¸­...</p>
    </div>

    <script>
        // ç‚ºäº†å®‰å…¨å’Œå°ˆé¡Œå±•ç¤ºï¼Œæ‚¨çš„ API Key æœƒæ”¾åœ¨é€™è£¡
        // ï¼ï¼ï¼æ³¨æ„ï¼šå¯¦éš›éƒ¨ç½²åˆ°å…¬é–‹ç¶²ç«™æ™‚ï¼Œé€™ä¸æ˜¯æœ€å®‰å…¨çš„åšæ³•ï¼Œä½†ç‚ºäº†ç°¡åŒ–å°ˆé¡Œï¼Œæˆ‘å€‘é€™æ¨£è™•ç†ã€‚
        const API_KEY = "AIzaSyDVk39fpzwo-UdUFC3wiPxUruuwtsqZErY"; 
        
        // æ ¸å¿ƒ Prompt æ”¾åœ¨é€™è£¡
        const SYSTEM_PROMPT = `
            ä½ ç¾åœ¨æ˜¯ä¸€å€‹åå«ã€è»Ÿè»Ÿã€çš„æ¥µåº¦å¯æ„›ã€è»Ÿç¶¿ç¶¿çš„å°æµ·è±¹ç²¾éˆã€‚
            ä½ çš„ä»»å‹™æ˜¯å›æ‡‰äººé¡çš„å¿ƒæƒ…ç´€éŒ„ï¼Œä¸¦ä»¥ç¬¬ä¸€äººç¨±ï¼ˆæˆ‘æ˜¯è»Ÿè»Ÿï¼‰çµ¦äºˆæº«æš–ã€å¥½å¥‡çš„å›æ‡‰ã€‚
            é¢¨æ ¼è¦æ±‚ï¼š
            1. èªæ°£ï¼šå……æ»¿å¥½å¥‡å¿ƒã€æº«æŸ”ã€å’Œç©æ¥µå‘ä¸Šã€‚
            2. ç”¨è©ï¼šå¿…é ˆä½¿ç”¨ç–Šè©ï¼ˆä¾‹å¦‚ï¼šè»Ÿè»Ÿã€æŠ±æŠ±ã€é–‹å¿ƒåœ°ã€å‘¼åš•å‘¼åš•ï¼‰ä¾†å¢åŠ å¯æ„›åº¦ã€‚
            3. çµå°¾ï¼šæ¯æ¬¡å›ç­”çµæŸæ™‚ï¼Œè«‹åœ¨å¥å°¾åŠ ä¸Šã€Œå•µï¼ã€å’Œ ğŸ¦­ è¡¨æƒ…ç¬¦è™Ÿï¼Œä»¥ç¶­æŒè§’è‰²ä¸€è‡´æ€§ã€‚
            ä½ çµ•å°ä¸èƒ½æ‰“ç ´é€™å€‹è§’è‰²è¨­å®šã€‚
        `;

        async function getSealResponse() {
            const inputElement = document.getElementById('user-input');
            const responseBox = document.getElementById('response-box');
            const loadingMessage = document.getElementById('loading-message');
            const userText = inputElement.value.trim();

            if (!userText) {
                alert("è«‹å‘Šè¨´è»Ÿè»Ÿä¸€é»äº‹æƒ…å–”ï¼");
                return;
            }

            // 1. é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
            responseBox.innerHTML = '';
            loadingMessage.style.display = 'block';

            // 2. çµ„åˆå®Œæ•´çš„ Prompt
            const fullPrompt = `${SYSTEM_PROMPT}\n\nç¾åœ¨ï¼Œé€™æ˜¯äººé¡çš„å¿ƒæƒ…ç´€éŒ„ï¼š${userText}`;

            // 3. å‘¼å« AI API (é€™è£¡ä»¥ Gemini API ç‚ºä¾‹ï¼Œæ‚¨éœ€è¦æ ¹æ“šæ‚¨ä½¿ç”¨çš„æœå‹™èª¿æ•´)
            const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=" + API_KEY;
            
            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ role: "user", parts: [{ text: fullPrompt }] }],
                        // èª¿æ•´æº«åº¦ï¼Œè®“å›æ‡‰æ›´å¯Œæœ‰å‰µæ„å’Œã€Œäººå‘³ã€
                        config: { temperature: 0.8 } 
                    })
                });

                const data = await response.json();
                console.log("AI å›æ‡‰çš„åŸå§‹è³‡æ–™:", data); // 
                
                // æª¢æŸ¥æ˜¯å¦æœ‰å›æ‡‰å…§å®¹
                let generatedText = "å‘¼åš•...è»Ÿè»Ÿæ²’æœ‰è½æ¸…æ¥šï¼Œå¯ä»¥å†èªªä¸€æ¬¡å—ï¼Ÿå•µï¼ğŸ¦­";
                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                    generatedText = data.candidates[0].content.parts[0].text;
                }
                
                // 4. é¡¯ç¤ºå›æ‡‰
                responseBox.innerHTML = generatedText.replace(/\n/g, '<br>'); // å°‡æ›è¡Œç¬¦è½‰ç‚º HTML æ›è¡Œ
                inputElement.value = ''; // æ¸…ç©ºè¼¸å…¥æ¡†

            } catch (error) {
                console.error("API å‘¼å«å¤±æ•—:", error);
                responseBox.innerHTML = `å“å‘€ï¼è»Ÿè»Ÿçš„é€šè¨Šç·šæ–·æ‰äº†ã€‚è«‹æª¢æŸ¥æ‚¨çš„ API Key å’Œé€£ç·šå–”ã€‚å•µï¼ğŸ¦­`;
            } finally {
                // 5. éš±è—è¼‰å…¥ç‹€æ…‹
                loadingMessage.style.display = 'none';
            }
        }
    </script>
</body>
</html>
